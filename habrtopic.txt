Всем привет

В статье я опишу возможность сбора статистики предоставляемой Flurry используя Google Apps Script. Для начала нужно обзавестись аккаунтами на gmail и flurry(в обоих случаях регистрация бесплатная).

<h4>В чем состоит решаемая проблема и что хотелось бы получить?</h4>

Я работаю в компании которая занимается разработкой игр под мобильные платформы для статистики мы используем данные своего сервера + данные от Flurry.  Чтобы как-то все это совместить я решил использовать сервисы предоставляемые Google и в результате получить один отчет с данными и графиками. 

<h4>Что вы получите в конце этой статьи?</h4>

Скрипт который по расписанию запрашивает метрики приложения от Flurry сервиса, парсит их и делает простую гугл таблицу(аналог Microsoft excel) c этими данными и простым графиком.

<h4>Основная цель</h4>

Я не ставлю цели создания эталонного отчета статистики. Я был удивлен доступностью такого функционала и решил поделиться небольшим опытом виде тестового скрипта. 

<h4>Начнем с простых шагов</h4>

<h5>Что понадобится?</h5>
<ul>
	<li>gmail аккаунт</li>
	<li>Flurry аккаунт</li>

</ul>
<h5>Настройка gmail</h5>
<ol>
	<li>Зайти на вкладку “Google drive”</li>
	<li>Нажать кнопку “Create”
	<img src="http://habrastorage.org/storage3/0a1/a76/a02/0a1a76a0241cc6bf250abd071e222771.png" alt="image"/></li>
	<li>Нажать кнопку “Connect more apps”</li>
	<li>Откроется окошко и в нем в строке поиска ввести “google script”
	<img src="http://habrastorage.org/storage3/c76/a01/baa/c76a01baa1a5668dd5af55411e793f43.png" alt="image"/></li>
	<li>На приложении “Google Apps Script” нажать “+ connect”</li>
	<li>На диалоговых окнах нажать Ok</li>
	<li>На вкладке “Google drive” нажать кнопку “Create” и создать “Script”
	<img src="http://habrastorage.org/storage3/861/d2b/614/861d2b61424fac3a67a3ec610390753b.png" alt="image"/></li>
	<li>Выберем “Blank project”
	<img src="http://habrastorage.org/storage3/96b/2de/3f3/96b2de3f3195da215b82bcd020cef7ee.png" alt="image"/></li>
	<li>Откроется окно с проектом. В верхнем правом углу два раза кликните на имени проекта и переименуйте его в “Flurry statistic”, в левой панели правой кнопкой кликните на имени скрипта и переименуйте его в ”createStatisticReport”</li>
	<li>В корне своего “Google Drive“ создайте папку  “Statistic”</li>
	<li>Теперь у нас все готово чтобы написать первый Google apps script</li>
</ol>
<h5>Настройка Flurry</h5>
Я подразумеваю, что у вас уже есть сконфигурированный аккаунт Flurry с данными. 

Для программного доступа к данным от Flurry выполните инструкции по ссылке: 
http://support.flurry.com/index.php?title=API/GettingStarted

В итоге вы получите ключ,который нужно сохранить для использования в скрипте.
Еще понадобится “ProjectApiKey” от Flurry, который вы уже используете в мобильном приложении.

<h4>Пишем скрипт</h4>

Я обладаю поверхностным знанием JavaScript, поэтому критика кода приветствуется.

